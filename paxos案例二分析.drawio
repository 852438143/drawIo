<mxfile host="app.diagrams.net" modified="2020-04-07T23:03:32.833Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36" etag="OWH2pKwg9PLyhjJ-WIkE" version="12.9.7" type="github">
  <diagram id="M0PGXJwdsvFOqRE9-65m" name="Page-1">
    <mxGraphModel dx="1141" dy="565" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="d5zdl-OilqCygrEVPEpH-97" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;Proposer&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-98" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;Acceptor1&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-99" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;Acceptor2&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="596" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-100" value="" style="shape=flexArrow;endArrow=classic;html=1;width=17;endSize=7.17;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="90" as="sourcePoint" />
            <mxPoint x="220" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-101" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-121">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="210" as="sourcePoint" />
            <mxPoint x="1080" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-102" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;Acceptor3&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-103" value="初始阶段" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="170" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-104" value="{null,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="160" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-105" value="{null,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="636" y="160" width="54" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-106" value="{null,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="790" y="160" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-107" value="&lt;span style=&quot;color: rgb(26 , 26 , 26) ; font-family: , &amp;#34;blinkmacsystemfont&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;source han sans sc&amp;#34; , &amp;#34;noto sans cjk sc&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , sans-serif ; font-size: medium ; text-align: left ; background-color: rgb(255 , 255 , 255)&quot;&gt;Proposer&lt;/span&gt;&lt;span style=&quot;color: rgb(26 , 26 , 26) ; font-family: , &amp;#34;blinkmacsystemfont&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , &amp;#34;source han sans sc&amp;#34; , &amp;#34;noto sans cjk sc&amp;#34; , &amp;#34;wenquanyi micro hei&amp;#34; , sans-serif ; font-size: medium ; text-align: left ; background-color: rgb(255 , 255 , 255)&quot;&gt;广播Prepare（n）请求&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="230" width="140" height="210" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-108" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="1010" as="sourcePoint" />
            <mxPoint x="330" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-109" value="" style="endArrow=none;dashed=1;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-115">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="922.4000244140625" as="sourcePoint" />
            <mxPoint x="490" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-110" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="1010" as="sourcePoint" />
            <mxPoint x="650" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-111" value="" style="endArrow=none;dashed=1;html=1;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-119">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="809.5" y="922.4000244140625" as="sourcePoint" />
            <mxPoint x="809.5" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-112" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="230" as="sourcePoint" />
            <mxPoint x="490" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-113" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="239.26666666666665" as="sourcePoint" />
            <mxPoint x="650" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-114" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="258" as="sourcePoint" />
            <mxPoint x="810" y="258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-115" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;1.acceptor此时最大提议id为null ，比n小，所以将节点提议id（pid）设置为n并返回旧的提议{null,null}；&lt;br&gt;2.acceptor提议ID&amp;gt;n,不予以响应。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="380" y="255" width="230" height="65" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-116" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="489" y="1010" as="sourcePoint" />
            <mxPoint x="489" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-117" value="{n,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="490" y="320" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-118" value="{n,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="650" y="315" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-119" value="{n,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="790" y="310" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-120" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1" target="d5zdl-OilqCygrEVPEpH-119">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="810" y="1010" as="sourcePoint" />
            <mxPoint x="809.5" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-121" value="&lt;span style=&quot;color: rgb(26 , 26 , 26) ; text-align: left ; background-color: rgb(255 , 255 , 255) ; font-size: 11px&quot;&gt;&lt;b&gt;Prepare&lt;/b&gt;（n1）&lt;/span&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="385" y="200" width="85" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-122" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1" target="d5zdl-OilqCygrEVPEpH-121">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="210" as="sourcePoint" />
            <mxPoint x="930" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-123" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="370" as="sourcePoint" />
            <mxPoint x="330" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-124" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="810" y="380" as="sourcePoint" />
            <mxPoint x="950" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-125" value="{null,null}" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="390" y="350" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-126" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="20" y="490" as="sourcePoint" />
            <mxPoint x="1060" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-127" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#1a1a1a&quot; size=&quot;3&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;提交协议&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="520" width="140" height="290" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-128" value="&lt;font size=&quot;1&quot; color=&quot;#ff3333&quot;&gt;&lt;b style=&quot;font-size: 24px&quot;&gt;X&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="860" y="371" width="40" height="15" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-129" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 9.8pt&quot;&gt;Proposer&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-130" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="1010" as="sourcePoint" />
            <mxPoint x="950" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-131" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="240" as="sourcePoint" />
            <mxPoint x="650" y="239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-132" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="240" as="sourcePoint" />
            <mxPoint x="650" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-133" value="&lt;font size=&quot;1&quot; color=&quot;#ff3333&quot;&gt;&lt;b style=&quot;font-size: 24px&quot;&gt;X&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="555" y="229" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-134" value="&lt;font size=&quot;1&quot; color=&quot;#ff3333&quot;&gt;&lt;b style=&quot;font-size: 24px&quot;&gt;X&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="730" y="227" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-135" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;未超过半数accpetor响应，此次提议直接转为提议失败；&amp;nbsp; 通过时间戳生成新的提议&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="260" y="510" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-136" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;未超过半数accpetor响应，此次提议直接转为提议失败；&amp;nbsp; 通过时间戳生成新的提议&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="870" y="510" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-137" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#e51400;strokeColor=#FF3333;strokeWidth=3;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-136" target="d5zdl-OilqCygrEVPEpH-129">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="610" as="sourcePoint" />
            <mxPoint x="1141.60009765625" y="560" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1100" y="560" />
              <mxPoint x="1100" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-138" value="" style="endArrow=classic;html=1;exitX=-0.008;exitY=0.664;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#e51400;strokeColor=#FF3333;strokeWidth=3;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-135" target="d5zdl-OilqCygrEVPEpH-97">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="480" as="sourcePoint" />
            <mxPoint x="240" y="120" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="576" />
              <mxPoint x="240" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-140" value="&lt;span style=&quot;color: rgb(26 , 26 , 26) ; text-align: left ; background-color: rgb(255 , 255 , 255) ; font-size: 11px&quot;&gt;&lt;b&gt;Prepare&lt;/b&gt;（n2）&lt;/span&gt;" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="850" y="260" width="85" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d5zdl-OilqCygrEVPEpH-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="d5zdl-OilqCygrEVPEpH-140" target="d5zdl-OilqCygrEVPEpH-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
